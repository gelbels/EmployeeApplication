<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNFinished Business Job Application</title>
    <link rel="stylesheet" href="styles2.css">
    <script src="/js/iframeResizer.contentWindow.min.js"></script>
</head>

<body class="container">
    <!-- <h1>Unfinished Business</h1>
    <h2>Employment Application</h2> -->

    <form action="" method="post" id="referencesForm">
        <div id="reference-container" class="form-fields">
            <fieldset>
                <h3 name="Reference Group Title">Reference 1</h3>

                <div class="form-field-group">
                    <label class="visually-hidden" for="reference-name">Name</label>
                    <input type="text" name="reference-name" placeholder="Name" required>

                    <label class="visually-hidden" for="company-name">Company Name</label>
                    <input type="text" name="company-name" placeholder="Company Name">

                    <label class="visually-hidden" for="reference-title">Position/Title</label>
                    <input type="text" name="reference-name" placeholder="Position/Title">

                    <label class="visually-hidden" for="reference-phone">Phone Number</label>
                    <input type="tel" id="phone" name="phone" placeholder="Phone Number"
                        pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" required>

                    <label class="visually-hidden" for="reference-email">Email Address</label>
                    <input type="email" id="email" name="email" placeholder="Email Address" required>
                </div>
            </fieldset>
        </div>

        <button type="button" id="refButton" onclick="addReference()">+ Add Reference</button>

        <div class="form-fields">
            <fieldset>
                <div class="form-field-group">
                    <label for="education">Highest Level of Education</label>
                    <select id="education" name="education" required>
                        <option value="" selected></option>
                        <option value="high-school">High School</option>
                        <option value="associate-degree">Associate Degree</option>
                        <option value="bachelors-degree">Bachelor"s Degree</option>
                        <option value="masters-degree">Master"s Degree</option>
                        <option value="doctorate">Doctorate</option>
                        <option value="doctorate">Other/Certificate</option>
                    </select>
                </div>
                <div class="form-field-group">
                    <textarea name="certificates"
                        placeholder="List any additional certificates or training here"></textarea>
                </div>
            </fieldset>

        </div>



        <div id="education-container" class="form-fields">
            <fieldset>
                <h3 name="Education Group Title">Education 1</h3>
                <div class="form-field-group">
                    <label class="visually-hidden" for="institution">Institution Name</label>
                    <input type="text" id="institution" name="institution[]" placeholder="Institution Name" required>

                    <label class="visually-hidden" for="degree">Degree Obtained</label>
                    <input type="text" id="degree" name="degree[]" placeholder="Degree Obtained" required>

                    <label class="visually-hidden" for="graduation_year">Graduation Year</label>
                    <input type="text" id="graduation_year" name="graduation_year[]" placeholder="Graduation Year"
                        required>

                    <label class="visually-hidden" for="graduation_loc">City</label>
                    <input type="text" id="city" name="city" placeholder="City" pattern="[A-Za-z\s]+" required>

                    <label class="visually-hidden" for="graduation_loc">State</label>
                    <input type="text" id="state" name="state" placeholder="State" pattern="[A-Za-z]{2}" required>
                </div>
            </fieldset>
        </div>

        <button type="button" id="refButton" onclick="addEducationSection()">+ Add Education</button>

        <fieldset class="ref-grid">
            <h3>Miscellaneous</h3>
            <div class="form-field-group">
                <div class="field-row-group">
                    <label for="drive">Are you willing to use your personal vehicle for your job duties?</label>
                    <select id="drive" name="drive" required>
                        <option value="" selected></option>
                        <option value="high-school">Yes</option>
                        <option value="associate-degree">No</option>
                        <option value="bachelors-degree">Prefer not to answer</option>
                    </select>
                </div>

                <div class="field-row-group">
                    <label for="military">Have you previously served in the armed forces?</label>
                    <select id="military" name="military" required>
                        <option value="" selected></option>
                        <option value="high-school">Yes</option>
                        <option value="associate-degree">No</option>
                        <option value="bachelors-degree">Prefer not to answer</option>
                    </select>
                </div>
            </div>
        </fieldset>


        <script>
            {
                let refCount = 1;

                function addReference() {
                    if (refCount < 4) {
                        var formContainer = document.getElementById("reference-container");
                        var newContact = formContainer.firstElementChild.cloneNode(true);

                        formContainer.appendChild(newContact);

                        {
                            const elements = document.getElementsByName("Reference Group Title");
                            for (let i = 0; i < elements.length; i++) {
                                elements[i].textContent = "Reference " + (i + 1);
                            }
                        }

                        const deleteButton = document.createElement("button");
                        deleteButton.type = "button";
                        deleteButton.classList.add("delete-button");
                        deleteButton.textContent = "Delete";
                        deleteButton.onclick = function () {
                            newContact.removeChild(deleteButton);
                            formContainer.removeChild(newContact);
                            refCount--;
                        };

                        newContact.appendChild(deleteButton);

                        refCount++;

                    } else {
                        alert("Max Requested References Reached")
                    }
                }
            }
            {
                let eCount = 1;

                function addEducationSection() {
                    if (eCount < 4) {
                        var formContainer = document.getElementById("education-container");
                        var newContact = formContainer.firstElementChild.cloneNode(true);

                        formContainer.appendChild(newContact);

                        {
                            const elements = document.getElementsByName("Education Group Title");
                            for (let i = 0; i < elements.length; i++) {
                                elements[i].textContent = "Education " + (i + 1);
                            }
                        }

                        const deleteButton = document.createElement("button");
                        deleteButton.type = "button";
                        deleteButton.classList.add("delete-button");
                        deleteButton.textContent = "Delete";
                        deleteButton.onclick = function () {
                            newContact.removeChild(deleteButton);
                            formContainer.removeChild(newContact);
                            contactCount--;
                        };

                        newContact.appendChild(deleteButton);

                        eCount++;

                    } else {
                        alert("Max Education Requirement Request Reached")
                    }
                }
            }
        </script>

        <!-- <div class="footer center-group">
            <button class="button left" type="submit" formaction="/page2.html">
                <span>Previous</span>
            </button>
            <button class="button right" type="submit" formaction="/page7.html">
                <span>Next</span>
            </button>
        </div> -->
    </form>
</body>

</html>