<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNFinished Business Job Application</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* label {
            display: block;
            margin-bottom: 8px;
        } */

        /* .form-section {
            margin-bottom: 20px;
            display: flex;
            flex-wrap: wrap;
        } */

        /* .left-section,
        .right-section {
            width: 15%;
            box-sizing: border-box;
        } */

        /* .left-section {
            margin-right: 2.5%;
        } */

        /* input[type="text"],
        input[type="tel"],
        input[type="month"],
        textarea {
            width: 100%;
            box-sizing: border-box;
            margin-bottom: 12px;
        } */

        .primary-button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .primary-button:hover {
            background-color: #306e33;
        }

        .secondary-button {
            background-color: #007BFF;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .secondary-button:hover {
            background-color: #063f7c;
        }


        /* @media (max-width: 768px) {

            .left-section,
            .right-section {
                width: 100%;
                margin-right: 0;
            }
        } */
    </style>
</head>

<body>
    <h1>Unfinished Business</h1>
    <h2>Employment Application</h2>

    <form action="nextStep.js" method="post">
        <h2>Work History</h2>

        <div id="form-container" class="contact-grid form-section">
            <fieldset>
                <legend>Contact Information</legend>

                <label for="employer_name">Employer Name:</label>
                <input type="text" name="employer_name[]" placeholder="Ex: First Last" required>

                <label for="address">Address:</label>
                <input type="text" name="address[]" placeholder="Ex: 1234 N Street" required>

                <label for="city_state_zip">City, State, ZIP:</label>
                <input type="text" name="city_state_zip[]" placeholder="Ex: Jacksonville, Florida, 32256" required>

                <label for="telephone">Telephone:</label>
                <input type="tel" name="telephone[]" placeholder="Ex: 123-456-7890" required>

                <label for="email">Email Address:</label>
                <input type="text" name="email[]" placeholder="Ex: example@email.com" required>



                
                <label for="supervisor_name">Name of Last Supervisor:</label>
                <input type="text" name="supervisor_name[]" placeholder="Ex: First Last" required>

                <label for="employment_dates_from">Employment Dates - From:</label>
                <input type="month" name="employment_dates_from[]" required>

                <label for="employment_dates_to">Employment Dates - To:</label>
                <input type="month" name="employment_dates_to[]" required>

                <label for="pay_start">Pay or Salary - Start: $</label>
                <input type="text" name="pay_start[]" placeholder="Ex: 50000" required>

                <label for="pay_final">Pay or Salary - Final: $</label>
                <input type="text" name="pay_final[]" placeholder="Ex: 60000" required>

                <label for="last_job_title">Your Last Job Title:</label>
                <input type="text" name="last_job_title[]" placeholder="Ex: Professor" required>

                <label for="contact_employer">May we contact this employer?<input type="checkbox" name="contact_employer[]"></label>

 

            </fieldset>
        
        </div>
            
        <center><button type="button" id="refButton" onclick="addContact()">+ Add Contact</button></center>

            <script>
                let contactCount = 1;

                function addContact() {
                    

                    if(contactCount < 4){
                        var formContainer = document.getElementById('form-container');
                        var newContact = formContainer.firstElementChild.cloneNode(true);
                        
                        formContainer.appendChild(newContact);

                        const deleteButton = document.createElement('button');
                        deleteButton.type = 'button';
                        deleteButton.classList.add('delete-button');
                        deleteButton.textContent = 'Delete';
                        deleteButton.onclick = function () {
                            removeContact(newContact);
                        };

                        newContact.appendChild(deleteButton);
                        formContainer.appendChild(newContact);

                        contactCount++;

                    }else{
                        alert("A maximum amount of contact information fulfilled.")
                    }
                }
            
                function removeContact(newContact) {
                    const formContainer = document.getElementById('form-container');
                    formContainer.removeChild(newContact);

                    contactCount--;

                }
            </script>

        <div id="form-container" class="contact-grid form-section"></div>
            <fieldset>
                <legend>Employment Information</legend>

                <label for="supervisor_name">Name of Last Supervisor:</label>
                <input type="text" name="supervisor_name[]" placeholder="Ex: First Last" required>

                <label for="employment_dates_from">Employment Dates - From:</label>
                <input type="month" name="employment_dates_from[]" required>

                <label for="employment_dates_to">Employment Dates - To:</label>
                <input type="month" name="employment_dates_to[]" required>

                <label for="pay_start">Pay or Salary - Start: $</label>
                <input type="text" name="pay_start[]" placeholder="Ex: 50000" required>

                <label for="pay_final">Pay or Salary - Final: $</label>
                <input type="text" name="pay_final[]" placeholder="Ex: 60000" required>

                <label for="last_job_title">Your Last Job Title:</label>
                <input type="text" name="last_job_title[]" placeholder="Ex: Professor" required>

                <label for="contact_employer">
                    May we contact this employer?<br>
                </label>
                <input type="checkbox" name="contact_employer[]">YES
            </fieldset>
        </div>

        <div id="form-container" class="contact-grid form-section">

            <div>
                <label for="reason_for_leaving">Reason for Leaving <b>(Be Specific)</b>:</label>
                <textarea class="custom-textarea" name="reason_for_leaving[]"
                    placeholder="Ex: Pursuing a new opportunity for career growth." rows="6" required></textarea>
            </div>

            <div>
                <label for="duties_skills">Duties, Skills, Advancements:</label>
                <textarea class="custom-textarea" name="duties_skills[]"
                    placeholder="Ex: Managed a team of 10, proficient in project management." rows="6" required>
                </textarea>
            </div>
        </div>
        
        <div id="form-container" class="contact-grid form-section">
            <div class="button-section form-section">
                <button class="secondary-button" type="button" onclick="addWorkExperience()">Add Another Work
                    Experience</button>
            </div>
        </div>

    </form>

    <script>
        function addWorkExperience() {
            // Clone the first work experience section and append it to the form
            const originalWorkExperience = document.querySelector('.work-experience');
            const newWorkExperience = originalWorkExperience.cloneNode(true);
            document.querySelector('form').insertBefore(newWorkExperience, document.querySelector('.work-experience-end'));
        }

        function validateEmploymentDates() {
            const startDateInput = document.querySelector('input[name="employment_dates_from[]"]');
            const endDateInput = document.querySelector('input[name="employment_dates_to[]"]');

            // Check if the end date is not before the start date
            if (startDateInput.value > endDateInput.value) {
                alert("End date cannot be before the start date");
                endDateInput.value = startDateInput.value; // Reset end date to start date
            }
        }

        // Add event listener to the end date input
        document.querySelector('input[name="employment_dates_to[]"]').addEventListener('input', validateEmploymentDates);
    </script>

        <button class="prev">
            <span><a class="link-no-style" href="index.html">Prev</a></span>
        </button>
        <button class="next">
            <span><a class="link-no-style" href="page3-4.html">Next</a></span>
        </button>



    </body>
</html>