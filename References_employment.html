<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>References</title>
    <!--<link rel="stylesheet" type="text/css" href="EmployeeApp.css">-->
    <style>
        body {
            margin: 20px;
        }

        form {
            width: 75%;
            margin: 0 auto;
        }

        label {
            display: block;
            margin-bottom: 4px;
        }

        input, textarea, select {
            width: 100%;
            padding: 8px;
            margin-bottom: 8px;
            box-sizing: border-box;
        }

        .reference-section {
            border: 4px solid black;
            border-radius: 15px;
            padding: 8px;
            margin-bottom: 10px;
        }

        .education-section {
            display: inline-block;
            border: 1px solid #ccc;
            padding: 8px;
            margin: 8px;
            width: 200px;
            height: auto;
        }

        button {
            background-color: green;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        button:hover {
            background-color: olive;
        }

        .delete-button {
            background-color: red;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
        }

        .delete-button:hover {
            background-color:;
        }

        h1 {
            color: forestgreen;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .divider {
            border: 5px solid #000;
            margin: 20px 0;
        }

        .dividerSM, {
            border: 2px dashed olive;
            margin: 10px;
        }

        .education-field {
            margin-bottom: 15px;
        }
    </style>
</head>
<body>

    <h1>References</h1>
    <form action="/submit_references" method="post" id="referencesForm">
        <div id="referenceContainer">
            <div class="reference-section">

                <label for="reference_name">Name:</label>
                <input type="text" name="reference_name[]" required>

                <label for="company_name">Company Name:</label>
                <input type="text" name="company_name[]">

                <label for="reference_title">Position/Title:</label>
                <input type="text" name="reference_name[]">

                <label for="reference_email">Email:</label>
                <input type="email" name="reference_email[]" required>

                <label for="reference_phone">Phone Number:</label>
                <input type="tel" name="reference_phone[]" required>
            </div>
        </div>

        <button type="button" style="align-items:center" onclick="addReference()">+ Add Reference</button>
    </form>

    <script>
        let referenceCount = 1;

        function addReference() {
            const referenceContainer = document.getElementById('referenceContainer');

            if (referenceCount < 4) {
                const newReferenceSection = document.createElement('div');
                newReferenceSection.classList.add('reference-section');

                const referenceFields = ['Name', 'Company Name', 'Position/Title', 'Email', 'Phone',];

                referenceFields.forEach(field => {
                    const label = document.createElement('label');
                    label.textContent = `${field}:`;
                    newReferenceSection.appendChild(label);

                    const input = document.createElement('input');
                    input.type = field.toLowerCase().includes('email') ? 'email' : 'text';
                    input.name = field.toLowerCase().replace(/\s+/g, '_') + '[]';
                    input.required = true;
                    newReferenceSection.appendChild(input);

                    newReferenceSection.appendChild(document.createElement('br'));
                });

                const deleteButton = document.createElement('button');
                deleteButton.type = 'button';
                deleteButton.classList.add('delete-button');
                deleteButton.textContent = 'Delete';
                deleteButton.onclick = function () {
                    deleteReference(newReferenceSection);
                };

                newReferenceSection.appendChild(deleteButton);
                referenceContainer.appendChild(newReferenceSection);

                referenceCount++;

            } else {
                alert("Max Number of References Reached");
            }
        }

        function deleteReference(referenceSection) {
            const referenceContainer = document.getElementById('referenceContainer');
            referenceContainer.removeChild(referenceSection);

            referenceCount--;
        }
    </script>

    <hr class="divider">

    <h1>Education</h1>
    <form action="/submit_education" method="post" id="educationForm">
        <div id="educationContainer">

            <label for="education">Highest Level of Education</label>
            <select id="education" name="education">
                <option value="high-school">High School</option>
                <option value="associate-degree">Associate Degree</option>
                <option value="bachelors-degree">Bachelor's Degree</option>
                <option value="masters-degree">Master's Degree</option>
                <option value="doctorate">Doctorate</option>
                <option value="doctorate">Other/Certificate</option>
            </select>

            <div class="education-section">

                <label for="institution">Institution Name:</label>
                <input type="text" id="institution" name="institution[]" required>

                <label for="degree">Degree Obtained:</label>
                <input type="text" id="degree" name="degree[]" required>

                <label for="graduation_year">Graduation Year:</label>
                <input type="text" id="graduation_year" name="graduation_year[]" required>

                <label for="graduation_loc">City, State:</label>
                <input type="text" id="graduation_loc" name="graduation_loc[]">

                <center><button type="button" onclick="addEducationSection()">+ Add Education</button></center>

            </div>
        </div>

        <input type="text" id="educationText" name="educationText" placeholder="List Any Additional Certifications or Training Here" 
                   style="width: 100%; height: 95px; vertical-align: text-top;">
    </form>

    <script>
        var educationCount = 1;

        function addEducationSection() {
            if (educationCount < 4) {
                educationCount++;

                var educationSections = document.getElementById('educationContainer');

                var newEducationSection = document.createElement('div');
                newEducationSection.classList.add('education-section');

                newEducationSection.innerHTML = `
                                <label for="institution${educationCount}">Institution Name:</label>
                                <input type="text" name="institution${educationCount}" required>

                                <label for="degree${educationCount}">Degree Obtained:</label>
                                <input type="text" name="degree${educationCount}" required>

                                <label for="graduation_year${educationCount}">Graduation Year:</label>
                                <input type="text" name="graduation_year${educationCount}" required>

                                <label for="graduation_loc${educationCount}">City, State:</label>
                                <input type="text" name="graduation_loc${educationCount}" required>

                                <button type="button" class="delete-button" onclick="deleteEducationSection(this)">Delete</button>

                            `;

                educationSections.appendChild(newEducationSection);
                newEducationSection.appendChild(deleteEducationSection);



            } else {
                alert('Maximum education sections limit reached (4 sections).');
            }
        }

        function deleteEducationSection(button) {
            var educationSection = button.parentNode;
            educationSection.parentNode.removeChild(educationSection);
            educationCount--;
        }
    </script>

</body>
</html>
